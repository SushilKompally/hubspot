version: 2

models:
  - name: users
    description: "Silver layer table containing cleaned and standardized user master data."
    config:
      contract:
        enforced: true

    columns:
      # PRIMARY KEY
      - name: hs_user_id
        data_type: varchar
        description: "Unique identifier of the user."
        tests:
          - not_null
          - unique

      # DETAILS
      - name: email
        data_type: varchar
        description: "Email address of the user."

      - name: first_name
        data_type: varchar
        description: "First name of the user."

      - name: last_name
        data_type: varchar
        description: "Last name of the user."

      - name: owner_id
        data_type: varchar
        description: "Associated owner ID (if the platform links users and owners)."
        # Uncomment when owners model is in place and this relation is valid:
        # tests:
        #   - relationships:
        #       to: ref('owners')
        #       field: hs_owner_id

      - name: description
        data_type: varchar
        description: "Free-text description or notes about the user."

      # AUDIT
      - name: silver_load_date
        data_type: timestamp_ntz
        description: "Timestamp indicating when the record was loaded into the silver layer."